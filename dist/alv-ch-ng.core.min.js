/* alv-ch-ng.core - 0.2.2 - 2015-06-30 - Copyright (c) 2015 Informatik der Arbeitslosenversicherung; */
!function(){"use strict";var a=angular.module("alv-ch-ng.core",["alv-ch-ng.core"]);a.directive("alert",function(){return{priority:10,restrict:"E",template:'<div class="alert" ng-transclude></div>',transclude:!0,replace:!0,link:function(a,b,c){var d="info";void 0!==c.alertSeverity&&(d=c.alertSeverity),b.addClass("alert-"+d),"true"===c.alertDismissable&&(b.addClass("alert-dismissable"),b.prepend(c.alertDismissableText?angular.element('<button type="button" class="close text-close" data-dismiss="alert" aria-hidden="true">'+c.alertDismissableText+"</button>"):angular.element('<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>')))}}}),a.directive("button",function(){return{priority:10,restrict:"E",link:function(a,b,c){b.addClass("btn"),b.addClass("btn-default"),"true"===c.primary&&b.addClass("btn-primary")}}}),a.directive("badge",function(){return{priority:10,restrict:"E",template:'<span class="badge" ng-transclude></span>',transclude:!0,replace:!0,link:function(a,b,c){"right"===c.badgeAlign&&b.addClass("pull-right"),c.badgeSquared&&b.addClass("squared")}}}),a.directive("badge",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){var d=angular.element('<span class="badge">'+c.badge+"</span>");"right"===c.badgeAlign&&d.addClass("pull-right"),c.badgeSquared&&b.addClass("squared"),b.append(d)}}}),a.directive("marker",function(){return{priority:10,restrict:"E",template:'<span class="label" ng-transclude></span>',transclude:!0,replace:!0,link:function(a,b,c){b.addClass(c.markerSeverity?"label-"+c.markerSeverity:"label-default"),c.markerSquared&&b.addClass("squared")}}}),a.directive("marker",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){var d=angular.element('<span class="label">'+c.marker+"</span>");d.addClass(void 0===c.markerSeverity?"label-default":"label-"+c.markerSeverity),c.markerSquared&&d.addClass("squared"),b.append(d)}}}),a.directive("glyph",function(){return{priority:10,restrict:"E",template:'<span class="glyphicon" ng-transclude></span>',transclude:!0,replace:!0,link:function(a,b,c){b.addClass(void 0===c.icon?"glyphicon-warning-sign":"glyphicon-"+c.icon)}}}),a.directive("glyphIcon",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){var d=angular.element("<span></span>");void 0===c.adminSymbol?(d.addClass("glyphicon"),d.addClass(c.glyphIcon?"glyphicon-"+c.glyphIcon:"glyphicon-warning-sign")):(d.addClass("icon"),d.attr("aria-hidden","true"),d.addClass(c.glyphIcon?"icon--"+c.glyphIcon:"icon--exclam")),"right"===c.glyphAlign?b.append(d):b.prepend(d)}}}),a.directive("collapsible",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){b.addClass("pointer"),b.attr("data-toggle","collapse"),b.attr("data-target",c.collapsible)}}}),a.directive("grid",["UiRenderService",function(a){return{restrict:"EA",priority:110,controller:function(a){a.columns=[],this.addColumn=function(b){a.columns.push(b)}},link:function(b,c,d){"show-grid"===d.grid&&c.addClass(d.grid),b.$watch("columns",function(b){var d,e,f,g,h;for(g=0,h=angular.element('<div class="row"></div>'),f=b.length,e=0;f>=e;e++)e===f?c.append(h):(d=b[e],g+=parseInt(d.column),h.append(d.element),(g>=a.getGridDefaultColumns()||d.last===!0)&&(c.append(h),g=0,h=angular.element('<div class="row"></div>')))})}}}]),a.directive("column",["UiRenderService",function(a){return{priority:100,restrict:"A",require:"^grid",replace:!0,link:function(b,c,d,e){if(d.column){var f=+d.column,g=!1,h="col-"+a.getGridDefaultDevice()+"-";c.addClass(h+f),void 0!==d.columnOffset&&(c.addClass(h+"offset-"+d.columnOffset),f+=parseInt(d.columnOffset)),void 0!==d.columnPush&&c.addClass(h+"push-"+d.columnPush),void 0!==d.columnPull&&c.addClass(h+"pull-"+d.columnPull),"true"===d.columnLast&&(g=!0),e.addColumn({column:f,last:g,element:c})}}}}]),a.directive("releaseNote",function(){return{restrict:"A",replace:!0,link:function(a,b){b.addClass("pointer"),b.click(function(){b.parent().toggleClass("show"),a.$broadcast("alv-ch-ng:dom-manipulate",{id:b.attr("id"),event:"releaseNote:click",show:b.parent().hasClass("show")})})}}}),a.directive("sidebar",function(){return{restrict:"C",link:function(a,b){a.$on("$viewContentLoaded",function(){var a=b.next(".content").outerHeight(!0)||b.prev(".content").outerHeight(!0);b.css("height",a),b.attr("style","height: "+a+"px !important;")})}}}),a.directive("sidebarToggle",["$document",function(a){return{restrict:"E",replace:!0,templateUrl:"template/core/sidebar-toggle.html",link:function(b,c){c.addClass("ng-hide"),c.removeClass("ng-show"),a.find(".sidebar").length&&(c.addClass("ng-show"),c.removeClass("ng-hide")),b.$on("$routeChangeSuccess",function(){c.addClass("ng-hide"),c.removeClass("ng-show"),a.find(".sidebar").length&&(c.addClass("ng-show"),c.removeClass("ng-hide"))})}}}]),a.directive("toc",["$location","$anchorScroll",function(a,b){var c=function(a,b){var c=angular.element(b),d=[];return angular.forEach(c,function(a){var b=angular.element(a),c={};c.title=b.text(),c.i18nMsg=b.attr("translate")||!1,c.id=b.attr("id")||b.text().toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"),b.attr("id",c.id),b.addClass("toc-scrollable"),d.push(c)}),d};return{priority:20,restrict:"E",replace:!0,templateUrl:"template/core/toc.html",link:function(d,e,f){var g=f.selector||".toc-item";d.tocs=c(e,g),d.$on("i18n:languageChanged",function(){d.tocs=c(e,g)}),d.scrollToc=function(c){b.yOffset=0;var f=parseInt($("#"+c).css("margin-top"))+parseInt($("#"+c).css("padding-top")),g=$("body").find("*[scroll-fix]")||!1;angular.forEach(g,function(a){var b=angular.element(a);void 0===b.attr("scroll-fix-bottom")&&b.attr("id")!==e.attr("id")&&b.attr("id")!==e.parent().attr("id")&&(f+=b.outerHeight(!0))}),b.yOffset=f,b(),a.hash(c),d.$broadcast("alv-ch-ng:dom-manipulate",{id:e.attr("id"),event:"toc:scrollToc"})}}}}]),a.directive("languageSwitcher",["$translate","supportedLanguages",function(a,b){return{restrict:"E",templateUrl:"template/core/language-switcher.html",replace:!0,link:function(c,d,e){if(c.styleClass=d.attr("class"),c.style=d.attr("style"),c.allLanguages=[],e.languages)for(var f=e.languages.split(","),g=0;g<f.length;g++)c.allLanguages[g]=f[g].trim();else c.allLanguages=b;c.getTranslationLanguage=function(){return a.use()},c.setTranslationLanguage=function(b){a.use(b)}}}}]),a.directive("activeStartswith",["$location",function(a){return{restrict:"A",link:function(b,c,d){b.$on("$routeChangeSuccess",function(){c.removeClass("active");for(var b=d.activeStartswith.split("|"),e=0;e<b.length;e++){var f=b[e];a.path().indexOf(f)>-1&&c.addClass("active")}})}}}]),a.directive("showStartswith",["$location",function(a){return{restrict:"A",link:function(b,c,d){b.$on("$routeChangeSuccess",function(){c.removeClass("active");for(var b=d.showStartswith.split("|"),e=0;e<b.length;e++){var f=b[e];a.path().indexOf(f)>-1?c.removeClass("ng-hide"):c.addClass("ng-hide")}})}}}]),a.directive("hideStartswith",["$location",function(a){return{restrict:"A",link:function(b,c,d){b.$on("$routeChangeSuccess",function(){c.removeClass("active");for(var b=d.hideStartswith.split("|"),e=0;e<b.length;e++){var f=b[e];a.path().indexOf(f)>-1?c.addClass("ng-hide"):c.removeClass("ng-hide")}})}}}]),a.provider("UiConfigService",function(){function a(a){if(!a)throw new Error("Param 'config' must not be empty!");jQuery.extend(!0,n,a)}function b(){return n.labelWidth}function c(){return n.commonSubmit}function d(){return n.commonCancel}function e(){return n.classPrefix}function f(){return n.titleSelect}function g(){return n.gridDefaultDevice}function h(){return n.gridDefaultColumns}function i(){return n.pageNavigationDefaultColumns}function j(){return n.scrollUp}function k(){return n.scrollUpBottom}function l(){return n.scrollUpI18n}function m(){return n.datepickerConfig}var n={labelWidth:2,classPrefix:"alv",gridDefaultDevice:"md",gridDefaultColumns:12,pageNavigationDefaultColumns:2,scrollUp:300,scrollUpBottom:20,scrollUpI18n:"common_i18n_scrollToTop",datepickerConfig:{autoclose:!0,todayHighlight:!0}};return{setConfig:a,$get:function(){return{getLabelWidth:b,getCommonSubmit:c,getCommonCancel:d,getClassPrefix:e,getTitleSelect:f,getGridDefaultDevice:g,getGridDefaultColumns:h,getPageNavigationDefaultColumns:i,getScrollUp:j,getScrollUpBottom:k,getScrollUpI18n:l,getDatepickerConfig:m}}}}),a.factory("UiRenderService",["UiConfigService",function(a){function b(b){var c="col-"+a.getGridDefaultDevice()+"-";return"undefined"==typeof b&&(b=!1),b?c+"offset-"+a.getLabelWidth():c+a.getLabelWidth()}function c(){var b=12-a.getLabelWidth();return angular.element('<div class="col-'+a.getGridDefaultDevice()+"-"+b+'"></div>')}function d(){var b=12-a.getLabelWidth();return'<div class="col-'+a.getGridDefaultDevice()+"-"+b+'"></div>'}function e(){return a.getCommonSubmit()}function f(){return a.getCommonCancel()}function g(b){return a.getClassPrefix()+"-"+b}function h(){return a.getTitleSelect()}function i(){return a.getGridDefaultDevice()}function j(){return a.getGridDefaultColumns()}function k(){return a.getPageNavigationDefaultColumns()}function l(a){return angular.element('<span class="help-block" translate="'+a+'"></span>')}function m(){return a.getScrollUp()}function n(){return a.getScrollUpBottom()}function o(){return a.getScrollUpI18n()}function p(){return a.getDatepickerConfig()}return{getFormGridLabelClass:b,getFormGridContent:c,getFormGrid:d,getCommonSubmit:e,getCommonCancel:f,getClassPrefix:g,getTitleSelect:h,getGridDefaultDevice:i,getGridDefaultColumns:j,getHelptext:l,getPageNavigationDefaultColumns:k,getScrollUp:m,getScrollUpBottom:n,getScrollUpI18n:o,getDatepickerConfig:p}}])}(),angular.module("alv-ch-ng.core").run(["$templateCache",function(a){"use strict";a.put("template/core/language-switcher.html",'<ul class="nav navbar-nav" id="language-switch">\n    <li id="language_{{language}}" ng-class="{\'active\':getTranslationLanguage()===language}" ng-repeat="language in allLanguages">\n        <a ng-click="setTranslationLanguage(language)" translate="{{language}}" translate-attr-title="common_i18n_language_short_{{language}}"></a>\n    </li>\n</ul>'),a.put("template/core/sidebar-toggle.html",'<button type="button" class="sidebar-toggle" data-toggle="collapse" data-target=".sidebar">\n    <span class="sr-only">Toggle sidebar</span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n</button>'),a.put("template/core/toc.html",'<div id="toc">\n    <span translate="common_i18n_contents"></span>\n    <ul class="toc-list">\n        <li ng-repeat="toc in tocs" spy="{{toc.id}}">\n            <a ng-click="scrollToc(toc.id)" toggle-helper=".sidebar">\n                <span ng-hide="toc.i18nMsg">{{toc.title}}</span>\n                <span ng-show="toc.i18nMsg" i18n-msg="{{toc.i18nMsg}}"></span>\n            </a>\n        </li>\n    </ul>\n</div>')}]),$.browser.mobile&&($(document).on("click",".navbar-collapse.in",function(a){$(a.target).is("a")&&$(this).collapse("hide")}),$(document).on("click",".sidebar.collapse.in",function(a){$(a.target).is("a")&&$(this).collapse("hide")}));